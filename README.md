Есть базовый абстрактный клаас Stream, от которого наследуются CharStream, LexemeStream и CommandStream, которые
реализуют функционал обертки для входной строки, разбиения на лексемы и парсинга соответственно.
